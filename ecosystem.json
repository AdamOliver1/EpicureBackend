{
    "apps": [
		{
			"name": "EpicureBackend",
			"script": "/usr/local/lib/node_modules/pm2/node_modules/.bin/ts-node",
            "args":"-r ../node_modules/tsconfig-paths/register ./start.ts",
			"env": {
				"NODE_ENV": "production"
			}
		}
	],
	"deploy": {
		
		"production": {
			"key": "~/.ssh/epicure-key.pem",
			"user": "ubuntu",


			"host": ["ec2-18-183-71-57.ap-northeast-1.compute.amazonaws.com"],


			"ref": "origin/main",


			"repo": "git@github.com:adammoveo/EpicureBackend.git",


			"path": "/home/ubuntu/EpicureBackend",


			"ssh_options": "StrictHostKeyChecking=no",


			"post-deploy": "mkdir -p logs && npm i && pm2 reload ecosystem.json --env production",


			"pre-deploy-local": "echo 'Deploying code to servers'",
			"env": {
				"NODE_ENV": "production"
			}
		}
	}
}


